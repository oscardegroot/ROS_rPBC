<?xml version="1.0" ?>
<launch>

  <arg name="robot_ip" default="172.16.0.2"/>
  <arg name="load_gripper" default="false" />
  
  <arg name="global_path" default="$(find panda)/launch/"/>
  <arg name="local_path" default="#(arg global_path)/panda_elisa3"/>
  
  <!-- Artificial network -->
  <arg name="network" default="true"/>

  <!-- Load parameters (see files) -->
  <rosparam command="load" file="$(arg local_path)/params.yaml" />

  <!-- Launch the panda -->
  <include file="$(arg global_path)/panda.launch">
    <arg name="robot_ip" value="$(arg robot_ip)"/>
    <arg name="load_gripper" value="$(arg load_gripper)"/>
    <arg name="global_path" value="$(arg global_path)"/>
    <arg name="local_path" value="$(arg local_path)"/>
  </include>

  <!-- Launch general nodes -->
  <include file="$(arg global_path)/general.launch">
    <arg name="global_path" value="$(arg global_path)"/>
    <arg name="local_path" value="$(arg local_path)"/>
    <arg name="network" value="$(arg network)"/>
  </include>

  <!-- Launch the camera -->
  <include file="$(find elisa_vision)/launch/elisa_vision.launch"/>

  <!-- Launch Elisa robots -->
  <node pkg="panda" type="Elisa3_Node" name="elisa3_0" output="screen">
    <rosparam command="load" file="$(arg local_path)/elisa3_0.yaml" />
    <rosparam command="load" file="$(arg global_path)/elisa/elisa3.yaml" />
  </node>

  <!-- Plot cooperative coordinates -->
  <node name="plotjes" pkg="rqt_plot" type="rqt_plot" args="agents/0/z/data[0] agents/0/z/data[1] agents/0/z/data[2] agents/1/z/data[0] agents/1/z/data[1]" />

  <!-- <node name="interface" pkg="panda" type="TextInterface_Node" respawn="false" output="screen"/> -->

</launch>